/* Generated by Nim Compiler v1.3.7 */
/*   (c) 2020 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_INTBITS 64

/* section: NIM_merge_HEADERS */

#include "nimbase.h"
#include <string.h>
#include <dirent.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <time.h>
#include <glob.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix

/* section: NIM_merge_FRAME_DEFINES */
#define nimfr_(x, y)
#define nimln_(x, y)

/* section: NIM_merge_FORWARD_TYPES */
typedef struct tyObject_PyModuleDesc__gBC8z6Ez5xj3dXoP0ylCRA tyObject_PyModuleDesc__gBC8z6Ez5xj3dXoP0ylCRA;
typedef struct tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg;
typedef struct tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg_Content tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg_Content;
typedef struct tySequence__1Ib9a4sxiw4YCYbDTADLEsg tySequence__1Ib9a4sxiw4YCYbDTADLEsg;
typedef struct tySequence__1Ib9a4sxiw4YCYbDTADLEsg_Content tySequence__1Ib9a4sxiw4YCYbDTADLEsg_Content;
typedef struct tySequence__xxWWYOndkW9adiM61bZkvsg tySequence__xxWWYOndkW9adiM61bZkvsg;
typedef struct tySequence__xxWWYOndkW9adiM61bZkvsg_Content tySequence__xxWWYOndkW9adiM61bZkvsg_Content;
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ tySequence__sM4lkSb7zS6F7OVMvW9cffQ;
typedef struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content;
typedef struct TNimTypeV2 TNimTypeV2;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA tySequence__uB9b75OUPRENsBAu4AnoePA;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content tySequence__uB9b75OUPRENsBAu4AnoePA_Content;
typedef struct tyTuple__LCURwohbLBusrL8hdCnvng tyTuple__LCURwohbLBusrL8hdCnvng;
typedef struct tyObject_PyMethodDef__9aWi1PsmvCuTKIYDHHnhfcw tyObject_PyMethodDef__9aWi1PsmvCuTKIYDHHnhfcw;
typedef struct tyObject_PyTypeDesc__BKCcJxogshNojOoN23Qfbg tyObject_PyTypeDesc__BKCcJxogshNojOoN23Qfbg;
typedef struct tyObject_PyTypeObject3Obj__cRsC9bGvH9bX6A9aVx8UB6I5g tyObject_PyTypeObject3Obj__cRsC9bGvH9bX6A9aVx8UB6I5g;
typedef struct tySequence__mAI4KvRAgoko9bmrV4QRgaQ tySequence__mAI4KvRAgoko9bmrV4QRgaQ;
typedef struct tySequence__mAI4KvRAgoko9bmrV4QRgaQ_Content tySequence__mAI4KvRAgoko9bmrV4QRgaQ_Content;
typedef struct tyObject_PyIteratorDesc__3Lh9c29bpC2Iomkl9cQO9cGqEw tyObject_PyIteratorDesc__3Lh9c29bpC2Iomkl9cQO9cGqEw;
typedef struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA;
typedef struct tyObject_PyMemberDef__WC29aEeHi2Pdy9c4AkllcBTg tyObject_PyMemberDef__WC29aEeHi2Pdy9c4AkllcBTg;

/* section: NIM_merge_TYPES */
struct tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg {
  NI len; tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg_Content* p;
};
struct tySequence__1Ib9a4sxiw4YCYbDTADLEsg {
  NI len; tySequence__1Ib9a4sxiw4YCYbDTADLEsg_Content* p;
};
struct tySequence__xxWWYOndkW9adiM61bZkvsg {
  NI len; tySequence__xxWWYOndkW9adiM61bZkvsg_Content* p;
};
struct tyObject_PyModuleDesc__gBC8z6Ez5xj3dXoP0ylCRA {
NCSTRING name;
NCSTRING doc;
tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg methods;
tySequence__1Ib9a4sxiw4YCYbDTADLEsg types;
tySequence__xxWWYOndkW9adiM61bZkvsg iterators;
};
struct NimStrPayload {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
NI len;
NimStrPayload* p;
};
typedef N_CDECL_PTR(void*, tyProc__uQWqJp3WAx8fOY1h9aCwjIg) (void* s, void* a, void* k);
typedef N_NIMCALL_PTR(void*, tyProc__iv6n7tcGawU401muvntJ9cA) (void* aX60gensym4_, void* kwgX60gensym4_);
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ {
  NI len; tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content* p;
};
typedef NCSTRING tyArray__WyQFihCfh52rD9axBQqkIJw[6];
typedef NU8 tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg;
typedef NU8 tySet_tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg;
typedef char tyArray__XKk9bNZbVEtY3RuROG9aRBgw[256];
typedef NimStringV2 tyArray__nHXaesL0DJZHyVS07ARPRA[1];
struct TNimTypeV2 {
void* destructor;
NI size;
NI align;
NCSTRING name;
void* traceImpl;
void* disposeImpl;
void* typeInfoV1;
};
struct RootObj {
TNimTypeV2* m_type;
};
struct tySequence__uB9b75OUPRENsBAu4AnoePA {
  NI len; tySequence__uB9b75OUPRENsBAu4AnoePA_Content* p;
};
struct Exception {
  RootObj Sup;
Exception* parent;
NCSTRING name;
NimStringV2 message;
tySequence__uB9b75OUPRENsBAu4AnoePA trace;
Exception* up;
};
typedef NCSTRING tyArray__NmEsK2qSxmxyFA4fWeYieg[1];
typedef NCSTRING tyUncheckedArray__nvS6J9clHMUMHfoZd8Ad2zg[1];
typedef NCSTRING tyArray__OMzq4WtdIKLHN1dhogrWLA[4];
struct tyTuple__LCURwohbLBusrL8hdCnvng {
tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg Field0;
NimStringV2 Field1;
};
typedef NCSTRING tyArray__jieoU9cfWs1Krn17l9aYsDyg[2];
struct tyObject_PyMethodDef__9aWi1PsmvCuTKIYDHHnhfcw {
NCSTRING ml_name;
tyProc__uQWqJp3WAx8fOY1h9aCwjIg ml_meth;
int ml_flags;
NCSTRING ml_doc;
};


#ifndef tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg_Content_PP
#define tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg_Content_PP
struct tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg_Content { NI cap; tyObject_PyMethodDef__9aWi1PsmvCuTKIYDHHnhfcw data[SEQ_DECL_SIZE];};
#endif

      typedef N_CDECL_PTR(void*, tyProc__eYT4U6bGFqFBUxk9b15mfOA) (tyObject_PyTypeObject3Obj__cRsC9bGvH9bX6A9aVx8UB6I5g* typ, void* a, void* b);
struct tySequence__mAI4KvRAgoko9bmrV4QRgaQ {
  NI len; tySequence__mAI4KvRAgoko9bmrV4QRgaQ_Content* p;
};
struct tyObject_PyTypeDesc__BKCcJxogshNojOoN23Qfbg {
tyObject_PyModuleDesc__gBC8z6Ez5xj3dXoP0ylCRA* module;
NCSTRING name;
NCSTRING doc;
NimStringV2 fullName;
tyProc__eYT4U6bGFqFBUxk9b15mfOA newFunc;
tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg methods;
tySequence__mAI4KvRAgoko9bmrV4QRgaQ members;
NI origSize;
};


#ifndef tySequence__1Ib9a4sxiw4YCYbDTADLEsg_Content_PP
#define tySequence__1Ib9a4sxiw4YCYbDTADLEsg_Content_PP
struct tySequence__1Ib9a4sxiw4YCYbDTADLEsg_Content { NI cap; tyObject_PyTypeDesc__BKCcJxogshNojOoN23Qfbg data[SEQ_DECL_SIZE];};
#endif

      struct tyObject_PyIteratorDesc__3Lh9c29bpC2Iomkl9cQO9cGqEw {
NCSTRING name;
NCSTRING doc;
tyProc__eYT4U6bGFqFBUxk9b15mfOA newFunc;
};


#ifndef tySequence__xxWWYOndkW9adiM61bZkvsg_Content_PP
#define tySequence__xxWWYOndkW9adiM61bZkvsg_Content_PP
struct tySequence__xxWWYOndkW9adiM61bZkvsg_Content { NI cap; tyObject_PyIteratorDesc__3Lh9c29bpC2Iomkl9cQO9cGqEw data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
#define tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content { NI cap; NimStringV2 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
#define tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content { NI cap; NimStringV2 data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
#define tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content_PP
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content { NI cap; NimStringV2 data[SEQ_DECL_SIZE];};
#endif

      struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA {
NCSTRING procname;
NI line;
NCSTRING filename;
};


#ifndef tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
#define tySequence__uB9b75OUPRENsBAu4AnoePA_Content_PP
struct tySequence__uB9b75OUPRENsBAu4AnoePA_Content { NI cap; tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA data[SEQ_DECL_SIZE];};
#endif

      

#ifndef tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg_Content_PP
#define tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg_Content_PP
struct tySequence__E2XyP5e7Jr9aMpJMjdz5Tkg_Content { NI cap; tyObject_PyMethodDef__9aWi1PsmvCuTKIYDHHnhfcw data[SEQ_DECL_SIZE];};
#endif

      struct tyObject_PyMemberDef__WC29aEeHi2Pdy9c4AkllcBTg {
NCSTRING name;
int typ;
NI offset;
int flags;
NCSTRING doc;
};


#ifndef tySequence__mAI4KvRAgoko9bmrV4QRgaQ_Content_PP
#define tySequence__mAI4KvRAgoko9bmrV4QRgaQ_Content_PP
struct tySequence__mAI4KvRAgoko9bmrV4QRgaQ_Content { NI cap; tyObject_PyMemberDef__WC29aEeHi2Pdy9c4AkllcBTg data[SEQ_DECL_SIZE];};
#endif

      
/* section: NIM_merge_PROC_HEADERS */
N_LIB_PRIVATE N_NIMCALL(void, initPythonModuleDesc__0f1AKGy9a6FMRjtYbL5nSQg)(tyObject_PyModuleDesc__gBC8z6Ez5xj3dXoP0ylCRA* m, NCSTRING name, NCSTRING doc);
N_LIB_EXPORT N_CDECL(void, initfaster_than_walk)(void);
N_LIB_PRIVATE N_NIMCALL(void, initModule2__QOPr6RYgxP9c8n2lZVbiDwA)(tyObject_PyModuleDesc__gBC8z6Ez5xj3dXoP0ylCRA* m);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_EXPORT N_CDECL(void*, PyInit_faster_than_walk)(void);
N_LIB_PRIVATE N_NIMCALL(void*, initModule3__b5gVEAN0cbSksVFIpPmViA)(tyObject_PyModuleDesc__gBC8z6Ez5xj3dXoP0ylCRA* m);
N_LIB_PRIVATE N_NIMCALL(void, registerExportedModule__2aw5dpL5lVZZ9cjH0apWcXA)(NimStringV2 name, void* initAddr2, void* initAddr3);
N_LIB_PRIVATE N_NIMCALL(void, addMethod__TpUnmhxGlZgxTBTLPiE3nw)(tyObject_PyModuleDesc__gBC8z6Ez5xj3dXoP0ylCRA* m, NCSTRING name, NCSTRING doc, tyProc__uQWqJp3WAx8fOY1h9aCwjIg f);
N_LIB_PRIVATE N_CDECL(void*, walkPy_wrapper__pV0NG2T9aRkuhx3lNjrt52g)(void* selfX60gensym4_, void* args, void* kwargs);
static N_INLINE(void, updateStackBottom__FRn3WNsRdbdvfuL6O7x1BQnimpy)(void);
N_LIB_PRIVATE N_NIMCALL(void*, noinline__51nak27P4W6IWblJlmgg0w)(void* args, void* kwargs);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, verifyArgs__8sVYJT4zfbIXMNXtJ2cTng)(void* argTuple, void* kwargsDict, NI argsLen, NI argsLenReq, NCSTRING* argNames, NI argNamesLen_0, NimStringV2 funcName);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___0RiuPw9cXhtLB9a2rQ2jA69cg)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ* dest);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ)(NimStringV2* dest);
N_LIB_PRIVATE N_NIMCALL(void, eq___r6aagoRVuov7HvfEjIi3Uw)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ* dest, tySequence__sM4lkSb7zS6F7OVMvW9cffQ src);
N_LIB_PRIVATE N_NIMCALL(void, parseArg__icg9aGIbXA4DEIGHwq7rmAA)(void* argTuple, void* kwargsDict, NI argIdx, NCSTRING argName, NimStringV2* result);
N_LIB_PRIVATE N_NIMCALL(void, parseArg__9b6ttEhK1WRqorza3JVW9cJw)(void* argTuple, void* kwargsDict, NI argIdx, NCSTRING argName, tySequence__sM4lkSb7zS6F7OVMvW9cffQ* result);
N_LIB_PRIVATE N_NIMCALL(void, parseArg__LZY9aeACpjd5IJS4h2b8lqA)(void* argTuple, void* kwargsDict, NI argIdx, NCSTRING argName, NIM_BOOL* result);
static N_INLINE(void*, nimValueToPy__D3zjW9cYtGQuRuwL28IPiignimpy)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ v);
N_LIB_PRIVATE N_NIMCALL(void*, nimArrToPy__QDmD9aT9b4YNs9aDHJ7tXGoEA)(NimStringV2* s, NI sLen_0);
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, walk__mwUPRUU9alsA2N4KRwstzhw)(NimStringV2 folderpath, tySequence__sM4lkSb7zS6F7OVMvW9cffQ extensions, NIM_BOOL followlinks, NIM_BOOL yieldfiles, NIM_BOOL debugs, NIM_BOOL check_folders);
static N_INLINE(NIM_BOOL*, create__vNuuaCfUXkKhwJZi9a7PfnAsystem)(NI size);
N_LIB_PRIVATE N_NOCONV(void*, alloc0Impl__KzdpcuLT9aef9bsiSHlIu9aFg_3)(NI size);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, eqeq___jpeT21MusP66x4kcP9cZuag)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ x, tySequence__sM4lkSb7zS6F7OVMvW9cffQ y);
static N_INLINE(void, nimZeroMem)(void* p, NI size);
static N_INLINE(void, nimSetMem__zxfKBYntu9cBapkhrCOk1fgmemory)(void* a, int v, NI size);
static N_INLINE(NimStringV2, pop__uJq9ayjszaqUcdxv3Rz6G9bQsystem)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ* s);
N_LIB_PRIVATE N_NIMCALL(void, shrink__qqcvaFgHJhXTFBrlZvVjbg)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ* x, NI newLen);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___aBBXmHFBEivKqERloP6zmA_2)(NimStringV2* dest, NimStringV2 src);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, slash___gEyhbzZ1UcxyenWRLJRXNQ)(NimStringV2 head, NimStringV2 tail);
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s);
N_LIB_PRIVATE N_NOINLINE(void, raiseOSError__CWyPYlyH9a6rAuZckFyVxPA)(NI32 errorCode, NimStringV2 additionalInfo);
N_LIB_PRIVATE N_NIMCALL(NI32, osLastError__9bUWNxbcGnToMWA9b79aTXLIw)(void);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, cstrToNimstr)(NCSTRING str);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringV2 a, NimStringV2 b);
static N_INLINE(NIM_BOOL, equalMem__9bGgqEk7RXXl6eqM9c1HdELAsystem)(void* a, void* b, NI size);
static N_INLINE(int, nimCmpMem)(void* a, void* b, NI size);
N_LIB_PRIVATE N_NIMCALL(void, eq___aBBXmHFBEivKqERloP6zmA)(NimStringV2* dest, NimStringV2 src);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosdirExists)(NimStringV2 dir);
N_LIB_PRIVATE N_NIMCALL(void, add__dK9ajFgX5RSWQx0eHjjpjSQ)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ* x, NimStringV2 value);
N_LIB_PRIVATE N_NIMCALL(void, echoBinSafe)(NimStringV2* args, NI argsLen_0);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nsuEndsWith)(NimStringV2 s, NimStringV2 suffix);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuNormalize)(NimStringV2 s);
N_LIB_PRIVATE N_NIMCALL(tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg, getSymlinkFileKind__wTnLPNAWjgwVnuiJ9ax0ZGQ)(NimStringV2 path);
N_LIB_PRIVATE N_NOCONV(void, deallocImpl__SAtZpVrJ3o5FJvSdLQe9auA)(void* p);
static N_INLINE(NIM_BOOL, isObj)(TNimTypeV2* obj, NCSTRING subclass);
static N_INLINE(Exception*, nimBorrowCurrentException)(void);
static N_INLINE(Exception*, getCurrentException)(void);
N_LIB_PRIVATE N_NIMCALL(void, eq___rR9boD7urcxl7uyUtE46AOA)(Exception** dest, Exception* src);
N_LIB_PRIVATE N_NIMCALL(void*, pythonException__Zl8uxcjgHaQZB15tcqXlTA)(Exception* e);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___9b46FHs5hLnvqpMZEZWi31w)(Exception** dest);
static N_INLINE(void, popCurrentException)(void);
N_LIB_PRIVATE N_CDECL(void*, walk_globPy_wrapper__nOBLoCLVUpFZJb3588qANQ)(void* selfX60gensym23_, void* args, void* kwargs);
N_LIB_PRIVATE N_NIMCALL(void*, noinline__51nak27P4W6IWblJlmgg0w_2)(void* args, void* kwargs);
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, walk_glob__T0p28lhyF7ws9aW2ZqYXykA)(NimStringV2 globpattern);
N_LIB_PRIVATE N_CDECL(void*, walk_simplePy_wrapper__IzdXrRRm9a7J5XcJ9cia4k8w)(void* selfX60gensym29_, void* args, void* kwargs);
N_LIB_PRIVATE N_NIMCALL(void*, noinline__51nak27P4W6IWblJlmgg0w_3)(void* args, void* kwargs);
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, walk_simple__yeWwaNnXkLouUEYHUHdZ9bw)(NimStringV2 folderpath, NIM_BOOL recursive, NIM_BOOL relative, NIM_BOOL check_folders);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___eJvma6sOTizgxElKpB2yuQ)(tyTuple__LCURwohbLBusrL8hdCnvng* dest, tyTuple__LCURwohbLBusrL8hdCnvng src);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___9bqov6Wj01jiBsy3mzTHnMQ)(tyTuple__LCURwohbLBusrL8hdCnvng* dest);
N_LIB_PRIVATE N_CDECL(void*, walk_filesPy_wrapper__JwrG9cd19al6MQlO6PfA9bUzg)(void* selfX60gensym39_, void* args, void* kwargs);
N_LIB_PRIVATE N_NIMCALL(void*, noinline__51nak27P4W6IWblJlmgg0w_4)(void* args, void* kwargs);
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, walk_files__ToYLunVJTl6uByayJPO9amA)(NimStringV2 globpattern, NIM_BOOL folders_only);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosfileExists)(NimStringV2 filename);
N_LIB_PRIVATE N_NIMCALL(void, nimTestErrorFlag)(void);
static N_INLINE(void, initStackBottomWith)(void* locals);
N_LIB_PRIVATE N_NIMCALL(void, systemDatInit000)(void);
N_LIB_PRIVATE N_NIMCALL(void, systemInit000)(void);
N_LIB_PRIVATE N_NIMCALL(void, nimpy_py_libInit000)(void);
N_LIB_PRIVATE N_NIMCALL(void, NimMainModule)(void);

/* section: NIM_merge_DATA */
static const struct {
  NI cap; NIM_CHAR data[16+1];
} TM__xMHGPK32qaROpInjrbPI7w_2 = { 16 | NIM_STRLIT_FLAG, "faster_than_walk" };
static const NimStringV2 TM__xMHGPK32qaROpInjrbPI7w_3 = {16, (NimStrPayload*)&TM__xMHGPK32qaROpInjrbPI7w_2};
static NIM_CONST tyArray__WyQFihCfh52rD9axBQqkIJw TM__xMHGPK32qaROpInjrbPI7w_4 = {"folderpath",
"extensions",
"followlinks",
"yieldfiles",
"debugs",
"check_folders"}
;
static const struct {
  NI cap; NIM_CHAR data[4+1];
} TM__xMHGPK32qaROpInjrbPI7w_5 = { 4 | NIM_STRLIT_FLAG, "walk" };
static const NimStringV2 TM__xMHGPK32qaROpInjrbPI7w_6 = {4, (NimStrPayload*)&TM__xMHGPK32qaROpInjrbPI7w_5};
static const struct {
  NI cap; NIM_CHAR data[0+1];
} TM__xMHGPK32qaROpInjrbPI7w_8 = { 0 | NIM_STRLIT_FLAG, "" };
static const struct {
  NI cap; NimStringV2 data[1];
} TM__xMHGPK32qaROpInjrbPI7w_9 = {1 | NIM_STRLIT_FLAG, {{0, (NimStrPayload*)&TM__xMHGPK32qaROpInjrbPI7w_8}}};
static NIM_CONST tySequence__sM4lkSb7zS6F7OVMvW9cffQ TM__xMHGPK32qaROpInjrbPI7w_7 = {1, (tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content*)&TM__xMHGPK32qaROpInjrbPI7w_9};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__xMHGPK32qaROpInjrbPI7w_10 = { 1 | NIM_STRLIT_FLAG, "." };
static const NimStringV2 TM__xMHGPK32qaROpInjrbPI7w_11 = {1, (NimStrPayload*)&TM__xMHGPK32qaROpInjrbPI7w_10};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__xMHGPK32qaROpInjrbPI7w_12 = { 2 | NIM_STRLIT_FLAG, ".." };
static const NimStringV2 TM__xMHGPK32qaROpInjrbPI7w_13 = {2, (NimStrPayload*)&TM__xMHGPK32qaROpInjrbPI7w_12};
static NIM_CONST tyArray__NmEsK2qSxmxyFA4fWeYieg TM__xMHGPK32qaROpInjrbPI7w_14 = {"globpattern"}
;
static const struct {
  NI cap; NIM_CHAR data[9+1];
} TM__xMHGPK32qaROpInjrbPI7w_15 = { 9 | NIM_STRLIT_FLAG, "walk_glob" };
static const NimStringV2 TM__xMHGPK32qaROpInjrbPI7w_16 = {9, (NimStrPayload*)&TM__xMHGPK32qaROpInjrbPI7w_15};
static NIM_CONST tyArray__OMzq4WtdIKLHN1dhogrWLA TM__xMHGPK32qaROpInjrbPI7w_17 = {"folderpath",
"recursive",
"relative",
"check_folders"}
;
static const struct {
  NI cap; NIM_CHAR data[11+1];
} TM__xMHGPK32qaROpInjrbPI7w_18 = { 11 | NIM_STRLIT_FLAG, "walk_simple" };
static const NimStringV2 TM__xMHGPK32qaROpInjrbPI7w_19 = {11, (NimStrPayload*)&TM__xMHGPK32qaROpInjrbPI7w_18};
static const NimStringV2 TM__xMHGPK32qaROpInjrbPI7w_20 = {1, (NimStrPayload*)&TM__xMHGPK32qaROpInjrbPI7w_10};
static const NimStringV2 TM__xMHGPK32qaROpInjrbPI7w_21 = {2, (NimStrPayload*)&TM__xMHGPK32qaROpInjrbPI7w_12};
static const NimStringV2 TM__xMHGPK32qaROpInjrbPI7w_22 = {1, (NimStrPayload*)&TM__xMHGPK32qaROpInjrbPI7w_10};
static const NimStringV2 TM__xMHGPK32qaROpInjrbPI7w_23 = {2, (NimStrPayload*)&TM__xMHGPK32qaROpInjrbPI7w_12};
static NIM_CONST tyArray__jieoU9cfWs1Krn17l9aYsDyg TM__xMHGPK32qaROpInjrbPI7w_24 = {"globpattern",
"folders_only"}
;
static const struct {
  NI cap; NIM_CHAR data[10+1];
} TM__xMHGPK32qaROpInjrbPI7w_25 = { 10 | NIM_STRLIT_FLAG, "walk_files" };
static const NimStringV2 TM__xMHGPK32qaROpInjrbPI7w_26 = {10, (NimStrPayload*)&TM__xMHGPK32qaROpInjrbPI7w_25};

/* section: NIM_merge_VARS */
N_LIB_PRIVATE tyObject_PyModuleDesc__gBC8z6Ez5xj3dXoP0ylCRA gPythonLocalModuleDesc__rWSOv8OWHGeHMsEAMshUQA;
extern NIM_BOOL nimInErrorMode__759bT87luu8XGcbkw13FUjA;
extern Exception* currException__9bVPeDJlYTi9bQApZpfH8wjg;
extern Exception* currException__9bVPeDJlYTi9bQApZpfH8wjg;
extern Exception* currException__9bVPeDJlYTi9bQApZpfH8wjg;
extern Exception* currException__9bVPeDJlYTi9bQApZpfH8wjg;

/* section: NIM_merge_PROCS */
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__759bT87luu8XGcbkw13FUjA);
	return result;
}
N_LIB_EXPORT N_CDECL(void, initfaster_than_walk)(void) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	initModule2__QOPr6RYgxP9c8n2lZVbiDwA((&gPythonLocalModuleDesc__rWSOv8OWHGeHMsEAMshUQA));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_EXPORT N_CDECL(void*, PyInit_faster_than_walk)(void) {
	void* result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (void*)0;
	result = initModule3__b5gVEAN0cbSksVFIpPmViA((&gPythonLocalModuleDesc__rWSOv8OWHGeHMsEAMshUQA));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, updateStackBottom__FRn3WNsRdbdvfuL6O7x1BQnimpy)(void) {
}
static N_INLINE(void*, nimValueToPy__D3zjW9cYtGQuRuwL28IPiignimpy)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ v) {
	void* result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (void*)0;
	result = nimArrToPy__QDmD9aT9b4YNs9aDHJ7tXGoEA(v.p->data, v.len);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NIM_BOOL*, create__vNuuaCfUXkKhwJZi9a7PfnAsystem)(NI size) {
	NIM_BOOL* result;
	void* T1_;
	result = (NIM_BOOL*)0;
	T1_ = (void*)0;
	T1_ = alloc0Impl__KzdpcuLT9aef9bsiSHlIu9aFg_3(((NI) ((NI)(((NI) 1) * ((NI) (size))))));
	result = ((NIM_BOOL*) (T1_));
	return result;
}
static N_INLINE(void, nimSetMem__zxfKBYntu9cBapkhrCOk1fgmemory)(void* a, int v, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a, v, ((size_t) (size)));
}
static N_INLINE(void, nimZeroMem)(void* p, NI size) {
	nimSetMem__zxfKBYntu9cBapkhrCOk1fgmemory(p, ((int) 0), size);
}
static N_INLINE(NimStringV2, pop__uJq9ayjszaqUcdxv3Rz6G9bQsystem)(tySequence__sM4lkSb7zS6F7OVMvW9cffQ* s) {
	NimStringV2 result;
	NI L;
	NI T1_;
	result.len = 0; result.p = NIM_NIL;
	T1_ = (*s).len;
	L = (NI)(T1_ - ((NI) 1));
	result = (*s).p->data[L];
	(*s).p->data[L].len = 0; (*s).p->data[L].p = NIM_NIL;
	shrink__qqcvaFgHJhXTFBrlZvVjbg(s, ((NI) (L)));
	return result;
}
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s) {
	NCSTRING result;
	result = (NCSTRING)0;
	{
		if (!(s.len == ((NI) 0))) goto LA3_;
		result = "";
	}
	goto LA1_;
	LA3_: ;
	{
		result = ((NCSTRING) ((*s.p).data));
	}
	LA1_: ;
	return result;
}
static N_INLINE(int, nimCmpMem)(void* a, void* b, NI size) {
	int result;
	result = (int)0;
	result = memcmp(a, b, ((size_t) (size)));
	return result;
}
static N_INLINE(NIM_BOOL, equalMem__9bGgqEk7RXXl6eqM9c1HdELAsystem)(void* a, void* b, NI size) {
	NIM_BOOL result;
	int T1_;
	result = (NIM_BOOL)0;
	T1_ = (int)0;
	T1_ = nimCmpMem(a, b, size);
	result = (T1_ == ((NI32) 0));
	return result;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringV2 a, NimStringV2 b) {
	NIM_BOOL result;
	NI alen;
	NI blen;
{	result = (NIM_BOOL)0;
	alen = a.len;
	blen = b.len;
	{
		if (!(alen == blen)) goto LA3_;
		{
			if (!(alen == ((NI) 0))) goto LA7_;
			result = NIM_TRUE;
			goto BeforeRet_;
		}
		LA7_: ;
		result = equalMem__9bGgqEk7RXXl6eqM9c1HdELAsystem(((void*) ((&a.p->data[((NI) 0)]))), ((void*) ((&b.p->data[((NI) 0)]))), ((NI) (alen)));
		goto BeforeRet_;
	}
	LA3_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, walk__mwUPRUU9alsA2N4KRwstzhw)(NimStringV2 folderpath, tySequence__sM4lkSb7zS6F7OVMvW9cffQ extensions, NIM_BOOL followlinks, NIM_BOOL yieldfiles, NIM_BOOL debugs, NIM_BOOL check_folders) {
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ result;
	NIM_BOOL* extused;
	NIM_BOOL T1_;
	NIM_BOOL T2_;
	NI T4_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	extused = create__vNuuaCfUXkKhwJZi9a7PfnAsystem(((NI) 1));
	T1_ = (NIM_BOOL)0;
	T2_ = (NIM_BOOL)0;
	T2_ = eqeq___jpeT21MusP66x4kcP9cZuag(extensions, TM__xMHGPK32qaROpInjrbPI7w_7);
	T1_ = !(T2_);
	if (!(T1_)) goto LA3_;
	T4_ = extensions.len;
	T1_ = (((NI) 0) < T4_);
	LA3_: ;
	(*extused) = T1_;
	{
		NimStringV2 item;
		tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg colontmpD_;
		tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg colontmpD__2;
		tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg colontmpD__3;
		tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg colontmpD__4;
		tySequence__sM4lkSb7zS6F7OVMvW9cffQ stack;
		tySet_tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg colontmp_;
		tySet_tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg colontmp__2;
		tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg T7_;
		tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg T13_;
		NIM_BOOL checkDir;
		item.len = 0; item.p = NIM_NIL;
		colontmpD_ = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
		colontmpD__2 = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
		colontmpD__3 = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
		colontmpD__4 = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
		stack.len = 0; stack.p = NIM_NIL;
		nimZeroMem((void*)(&colontmp_), sizeof(tySet_tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg));
		nimZeroMem((void*)(&colontmp__2), sizeof(tySet_tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg));
		colontmp_ = 0;
		T7_ = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
		{
			if (!yieldfiles) goto LA10_;
			colontmpD_ = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 0);
			T7_ = colontmpD_;
		}
		goto LA8_;
		LA10_: ;
		{
			colontmpD__2 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
			T7_ = colontmpD__2;
		}
		LA8_: ;
		colontmp_ |=((NU8)(1)<<((T7_)%(sizeof(NU8)*8)));
		colontmp__2 = 0;
		T13_ = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
		{
			if (!followlinks) goto LA16_;
			colontmpD__3 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 3);
			T13_ = colontmpD__3;
		}
		goto LA14_;
		LA16_: ;
		{
			colontmpD__4 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
			T13_ = colontmpD__4;
		}
		LA14_: ;
		colontmp__2 |=((NU8)(1)<<((T13_)%(sizeof(NU8)*8)));
		eq___r6aagoRVuov7HvfEjIi3Uw((&stack), TM__xMHGPK32qaROpInjrbPI7w_7);
		checkDir = check_folders;
		{
			while (1) {
				NI T21_;
				NimStringV2 d;
				T21_ = stack.len;
				if (!(((NI) 0) < T21_)) goto LA20;
				d.len = 0; d.p = NIM_NIL;
				d = pop__uJq9ayjszaqUcdxv3Rz6G9bQsystem((&stack));
				{
					NimStringV2 p;
					NimStringV2 colontmp__3;
					tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg k;
					NimStringV2 T25_;
					DIR* d_2;
					p.len = 0; p.p = NIM_NIL;
					colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
					k = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
					p.len = 0; p.p = NIM_NIL;
					colontmp__3.len = 0; colontmp__3.p = NIM_NIL;
					T25_.len = 0; T25_.p = NIM_NIL;
					T25_ = slash___gEyhbzZ1UcxyenWRLJRXNQ(folderpath, d);
					eqsink___aBBXmHFBEivKqERloP6zmA_2((&colontmp__3), T25_);
					d_2 = opendir(nimToCStringConv(colontmp__3));
					{
						if (!(d_2 == NIM_NIL)) goto LA28_;
						{
							NI32 T34_;
							if (!checkDir) goto LA32_;
							T34_ = (NI32)0;
							T34_ = osLastError__9bUWNxbcGnToMWA9b79aTXLIw();
							raiseOSError__CWyPYlyH9a6rAuZckFyVxPA(T34_, colontmp__3);
							if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
						}
						LA32_: ;
					}
					goto LA26_;
					LA28_: ;
					{
						{
							while (1) {
								{
									NimStringV2 y;
									struct dirent* x;
									y.len = 0; y.p = NIM_NIL;
									x = readdir(d_2);
									{
										if (!(x == NIM_NIL)) goto LA43_;
										eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&y));
										goto LA37;
									}
									LA43_: ;
									y = cstrToNimstr(((NCSTRING) ((*x).d_name)));
									{
										NIM_BOOL T47_;
										NimStringV2 path;
										NimStringV2 rel;
										struct stat s;
										tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg k_2;
										T47_ = (NIM_BOOL)0;
										T47_ = !(eqStrings(y, TM__xMHGPK32qaROpInjrbPI7w_11));
										if (!(T47_)) goto LA48_;
										T47_ = !(eqStrings(y, TM__xMHGPK32qaROpInjrbPI7w_13));
										LA48_: ;
										if (!T47_) goto LA49_;
										path.len = 0; path.p = NIM_NIL;
										rel.len = 0; rel.p = NIM_NIL;
										nimZeroMem((void*)(&s), sizeof(struct stat));
										path = slash___gEyhbzZ1UcxyenWRLJRXNQ(colontmp__3, y);
										{
											if (!NIM_FALSE) goto LA54_;
											eq___aBBXmHFBEivKqERloP6zmA((&y), path);
										}
										LA54_: ;
										k_2 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 0);
										{
											NimStringV2 rel_2;
											if (!!(((*x).d_type == ((NI8) 0)))) goto LA58_;
											rel_2.len = 0; rel_2.p = NIM_NIL;
											{
												if (!((*x).d_type == ((NI8) 4))) goto LA63_;
												k_2 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
											}
											LA63_: ;
											{
												if (!((*x).d_type == ((NI8) 10))) goto LA67_;
												{
													NIM_BOOL T71_;
													T71_ = (NIM_BOOL)0;
													T71_ = nosdirExists(path);
													if (!T71_) goto LA72_;
													k_2 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 3);
												}
												goto LA69_;
												LA72_: ;
												{
													k_2 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 1);
												}
												LA69_: ;
											}
											LA67_: ;
											k = k_2;
											eq___aBBXmHFBEivKqERloP6zmA((&p), y);
											rel_2 = slash___gEyhbzZ1UcxyenWRLJRXNQ(d, p);
											{
												NIM_BOOL T77_;
												NimStringV2 colontmpD__5;
												T77_ = (NIM_BOOL)0;
												T77_ = (k == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2) || k == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 3));
												if (!(T77_)) goto LA78_;
												T77_ = ((colontmp__2 &((NU8)1<<((NU)(k)&7U)))!=0);
												LA78_: ;
												if (!T77_) goto LA79_;
												colontmpD__5.len = 0; colontmpD__5.p = NIM_NIL;
												colontmpD__5.len = 0; colontmpD__5.p = NIM_NIL;
												eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__5), rel_2);
												add__dK9ajFgX5RSWQx0eHjjpjSQ((&stack), colontmpD__5);
											}
											LA79_: ;
											{
												NimStringV2 T85_;
												if (!((colontmp_ &((NU8)1<<((NU)(k)&7U)))!=0)) goto LA83_;
												T85_.len = 0; T85_.p = NIM_NIL;
												{
													if (!NIM_FALSE) goto LA88_;
													eq___aBBXmHFBEivKqERloP6zmA((&item), rel_2);
												}
												goto LA86_;
												LA88_: ;
												{
													NimStringV2 T91_;
													T91_.len = 0; T91_.p = NIM_NIL;
													T91_ = slash___gEyhbzZ1UcxyenWRLJRXNQ(folderpath, rel_2);
													eqsink___aBBXmHFBEivKqERloP6zmA_2((&item), T91_);
												}
												LA86_: ;
												{
													NIM_BOOL T94_;
													tyArray__nHXaesL0DJZHyVS07ARPRA T97_;
													T94_ = (NIM_BOOL)0;
													T94_ = NIM_UNLIKELY(debugs);
													if (!T94_) goto LA95_;
													T97_[0] = item;
													echoBinSafe(T97_, 1);
												}
												LA95_: ;
												{
													NIM_BOOL T100_;
													T100_ = (NIM_BOOL)0;
													T100_ = NIM_UNLIKELY((*extused));
													if (!T100_) goto LA101_;
													{
														NimStringV2* ext;
														NI i;
														NI L;
														NI T104_;
														ext = (NimStringV2*)0;
														i = ((NI) 0);
														T104_ = extensions.len;
														L = T104_;
														{
															while (1) {
																NimStringV2 colontmpD__6;
																if (!(i < L)) goto LA106;
																colontmpD__6.len = 0; colontmpD__6.p = NIM_NIL;
																ext = (&extensions.p->data[i]);
																{
																	NIM_BOOL T109_;
																	NimStringV2 colontmpD__7;
																	colontmpD__6 = nsuNormalize(item);
																	T109_ = (NIM_BOOL)0;
																	T109_ = nsuEndsWith(colontmpD__6, (*ext));
																	if (!T109_) goto LA110_;
																	colontmpD__7.len = 0; colontmpD__7.p = NIM_NIL;
																	colontmpD__7.len = 0; colontmpD__7.p = NIM_NIL;
																	eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__7), item);
																	add__dK9ajFgX5RSWQx0eHjjpjSQ((&result), colontmpD__7);
																}
																LA110_: ;
																i += ((NI) 1);
																eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&colontmpD__6));
															} LA106: ;
														}
													}
												}
												goto LA98_;
												LA101_: ;
												{
													NimStringV2 colontmpD__8;
													colontmpD__8.len = 0; colontmpD__8.p = NIM_NIL;
													colontmpD__8.len = 0; colontmpD__8.p = NIM_NIL;
													eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__8), item);
													add__dK9ajFgX5RSWQx0eHjjpjSQ((&result), colontmpD__8);
												}
												LA98_: ;
											}
											LA83_: ;
											eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&rel_2));
											eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&rel));
											eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&path));
											eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&y));
											goto LA39;
											{
												LA60_:;
											}
											{
												eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&rel_2));
											}
											if (NIM_UNLIKELY(*nimErr_)) goto LA51_;
										}
										LA58_: ;
										{
											int T117_;
											T117_ = (int)0;
											T117_ = lstat(nimToCStringConv(path), (&s));
											if (!(T117_ < ((NI32) 0))) goto LA118_;
											eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&rel));
											eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&path));
											eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&y));
											goto LA37;
										}
										LA118_: ;
										{
											NIM_BOOL T122_;
											T122_ = (NIM_BOOL)0;
											T122_ = S_ISDIR(s.st_mode);
											if (!T122_) goto LA123_;
											k_2 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
										}
										goto LA120_;
										LA123_: ;
										{
											NIM_BOOL T126_;
											T126_ = (NIM_BOOL)0;
											T126_ = S_ISLNK(s.st_mode);
											if (!T126_) goto LA127_;
											k_2 = getSymlinkFileKind__wTnLPNAWjgwVnuiJ9ax0ZGQ(path);
										}
										goto LA120_;
										LA127_: ;
										LA120_: ;
										k = k_2;
										eq___aBBXmHFBEivKqERloP6zmA((&p), y);
										rel = slash___gEyhbzZ1UcxyenWRLJRXNQ(d, p);
										{
											NIM_BOOL T131_;
											NimStringV2 colontmpD__9;
											T131_ = (NIM_BOOL)0;
											T131_ = (k == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2) || k == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 3));
											if (!(T131_)) goto LA132_;
											T131_ = ((colontmp__2 &((NU8)1<<((NU)(k)&7U)))!=0);
											LA132_: ;
											if (!T131_) goto LA133_;
											colontmpD__9.len = 0; colontmpD__9.p = NIM_NIL;
											colontmpD__9.len = 0; colontmpD__9.p = NIM_NIL;
											eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__9), rel);
											add__dK9ajFgX5RSWQx0eHjjpjSQ((&stack), colontmpD__9);
										}
										LA133_: ;
										{
											NimStringV2 T139_;
											if (!((colontmp_ &((NU8)1<<((NU)(k)&7U)))!=0)) goto LA137_;
											T139_.len = 0; T139_.p = NIM_NIL;
											{
												if (!NIM_FALSE) goto LA142_;
												eq___aBBXmHFBEivKqERloP6zmA((&item), rel);
											}
											goto LA140_;
											LA142_: ;
											{
												NimStringV2 T145_;
												T145_.len = 0; T145_.p = NIM_NIL;
												T145_ = slash___gEyhbzZ1UcxyenWRLJRXNQ(folderpath, rel);
												eqsink___aBBXmHFBEivKqERloP6zmA_2((&item), T145_);
											}
											LA140_: ;
											{
												NIM_BOOL T148_;
												tyArray__nHXaesL0DJZHyVS07ARPRA T151_;
												T148_ = (NIM_BOOL)0;
												T148_ = NIM_UNLIKELY(debugs);
												if (!T148_) goto LA149_;
												T151_[0] = item;
												echoBinSafe(T151_, 1);
											}
											LA149_: ;
											{
												NIM_BOOL T154_;
												T154_ = (NIM_BOOL)0;
												T154_ = NIM_UNLIKELY((*extused));
												if (!T154_) goto LA155_;
												{
													NimStringV2* ext_2;
													NI i_2;
													NI L_2;
													NI T158_;
													ext_2 = (NimStringV2*)0;
													i_2 = ((NI) 0);
													T158_ = extensions.len;
													L_2 = T158_;
													{
														while (1) {
															NimStringV2 colontmpD__10;
															if (!(i_2 < L_2)) goto LA160;
															colontmpD__10.len = 0; colontmpD__10.p = NIM_NIL;
															ext_2 = (&extensions.p->data[i_2]);
															{
																NIM_BOOL T163_;
																NimStringV2 colontmpD__11;
																colontmpD__10 = nsuNormalize(item);
																T163_ = (NIM_BOOL)0;
																T163_ = nsuEndsWith(colontmpD__10, (*ext_2));
																if (!T163_) goto LA164_;
																colontmpD__11.len = 0; colontmpD__11.p = NIM_NIL;
																colontmpD__11.len = 0; colontmpD__11.p = NIM_NIL;
																eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__11), item);
																add__dK9ajFgX5RSWQx0eHjjpjSQ((&result), colontmpD__11);
															}
															LA164_: ;
															i_2 += ((NI) 1);
															eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&colontmpD__10));
														} LA160: ;
													}
												}
											}
											goto LA152_;
											LA155_: ;
											{
												NimStringV2 colontmpD__12;
												colontmpD__12.len = 0; colontmpD__12.p = NIM_NIL;
												colontmpD__12.len = 0; colontmpD__12.p = NIM_NIL;
												eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__12), item);
												add__dK9ajFgX5RSWQx0eHjjpjSQ((&result), colontmpD__12);
											}
											LA152_: ;
										}
										LA137_: ;
										{
											LA51_:;
										}
										{
											eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&rel));
											eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&path));
										}
										if (NIM_UNLIKELY(*nimErr_)) goto LA40_;
									}
									LA49_: ;
									{
										LA40_:;
									}
									{
										eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&y));
									}
									if (NIM_UNLIKELY(*nimErr_)) goto LA36_;
								} LA39: ;
							}
						} LA37: ;
						{
							LA36_:;
						}
						{
							int T173_;
							T173_ = (int)0;
							T173_ = closedir(d_2);
							(void)(T173_);
						}
						if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
					}
					LA26_: ;
					{
						LA24_:;
					}
					{
						eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&colontmp__3));
						eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&p));
					}
					if (NIM_UNLIKELY(*nimErr_)) goto LA22_;
				}
				checkDir = NIM_FALSE;
				{
					LA22_:;
				}
				{
					eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&d));
				}
				if (NIM_UNLIKELY(*nimErr_)) goto LA6_;
			} LA20: ;
		}
		{
			LA6_:;
		}
		{
			eqdestroy___0RiuPw9cXhtLB9a2rQ2jA69cg((&stack));
			eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&item));
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	deallocImpl__SAtZpVrJ3o5FJvSdLQe9auA(((void*) (extused)));
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NIM_BOOL, isObj)(TNimTypeV2* obj, NCSTRING subclass) {
	NIM_BOOL result;
	NCSTRING T1_;
	result = (NIM_BOOL)0;
	T1_ = (NCSTRING)0;
	T1_ = strstr((*obj).name, subclass);
	result = !((((void*) (T1_)) == NIM_NIL));
	return result;
}
static N_INLINE(Exception*, nimBorrowCurrentException)(void) {
	Exception* result;
	result = (Exception*)0;
	result = currException__9bVPeDJlYTi9bQApZpfH8wjg;
	return result;
}
static N_INLINE(Exception*, getCurrentException)(void) {
	Exception* result;
	result = (Exception*)0;
	eq___rR9boD7urcxl7uyUtE46AOA(&result, currException__9bVPeDJlYTi9bQApZpfH8wjg);
	return result;
}
static N_INLINE(void, popCurrentException)(void) {
	eq___rR9boD7urcxl7uyUtE46AOA(&currException__9bVPeDJlYTi9bQApZpfH8wjg, (*currException__9bVPeDJlYTi9bQApZpfH8wjg).up);
}
N_LIB_PRIVATE N_NIMCALL(void*, noinline__51nak27P4W6IWblJlmgg0w)(void* args, void* kwargs) {
	void* result;
	NimStringV2 arg0folderpath;
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ arg1extensions;
	void* colontmpD_;
	void* colontmpD__2;
	NIM_BOOL arg2followlinks;
	NIM_BOOL arg3yieldfiles;
	NIM_BOOL arg4debugs;
	NIM_BOOL arg5check_folders;
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ colontmpD__3;
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ T9_;
	void* T10_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (void*)0;
	arg0folderpath.len = 0; arg0folderpath.p = NIM_NIL;
	arg1extensions.len = 0; arg1extensions.p = NIM_NIL;
	colontmpD_ = (void*)0;
	colontmpD__2 = (void*)0;
	{
		NIM_BOOL T4_;
		T4_ = (NIM_BOOL)0;
		T4_ = verifyArgs__8sVYJT4zfbIXMNXtJ2cTng(args, kwargs, ((NI) 6), ((NI) 1), TM__xMHGPK32qaROpInjrbPI7w_4, 6, TM__xMHGPK32qaROpInjrbPI7w_6);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (!!(T4_)) goto LA5_;
		result = ((void*) (NIM_NIL));
		eqdestroy___0RiuPw9cXhtLB9a2rQ2jA69cg((&arg1extensions));
		eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&arg0folderpath));
		goto BeforeRet_;
	}
	LA5_: ;
	eq___r6aagoRVuov7HvfEjIi3Uw((&arg1extensions), TM__xMHGPK32qaROpInjrbPI7w_7);
	arg2followlinks = NIM_FALSE;
	arg3yieldfiles = NIM_TRUE;
	arg4debugs = NIM_FALSE;
	arg5check_folders = NIM_FALSE;
	parseArg__icg9aGIbXA4DEIGHwq7rmAA(args, kwargs, ((NI) 0), "folderpath", (&arg0folderpath));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	parseArg__9b6ttEhK1WRqorza3JVW9cJw(args, kwargs, ((NI) 1), "extensions", (&arg1extensions));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	parseArg__LZY9aeACpjd5IJS4h2b8lqA(args, kwargs, ((NI) 2), "followlinks", (&arg2followlinks));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	parseArg__LZY9aeACpjd5IJS4h2b8lqA(args, kwargs, ((NI) 3), "yieldfiles", (&arg3yieldfiles));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	parseArg__LZY9aeACpjd5IJS4h2b8lqA(args, kwargs, ((NI) 4), "debugs", (&arg4debugs));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	parseArg__LZY9aeACpjd5IJS4h2b8lqA(args, kwargs, ((NI) 5), "check_folders", (&arg5check_folders));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
	T9_.len = 0; T9_.p = NIM_NIL;
	T9_ = walk__mwUPRUU9alsA2N4KRwstzhw(arg0folderpath, arg1extensions, arg2followlinks, arg3yieldfiles, arg4debugs, arg5check_folders);
	if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
	colontmpD__3 = T9_;
	T10_ = (void*)0;
	T10_ = nimValueToPy__D3zjW9cYtGQuRuwL28IPiignimpy(colontmpD__3);
	if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
	colontmpD_ = T10_;
	result = colontmpD_;
	{
		LA8_:;
	}
	{
		eqdestroy___0RiuPw9cXhtLB9a2rQ2jA69cg((&colontmpD__3));
	}
	if (NIM_UNLIKELY(*nimErr_)) goto LA7_;
	if (NIM_UNLIKELY(*nimErr_)) {
		LA7_:;
		if (isObj(nimBorrowCurrentException()->Sup.m_type, "|Exception|RootObj|")) {
			Exception* eX60gensym4_;
			void* T17_;
			*nimErr_ = NIM_FALSE;
			eX60gensym4_ = (Exception*)0;
			eX60gensym4_ = getCurrentException();
			T17_ = (void*)0;
			T17_ = pythonException__Zl8uxcjgHaQZB15tcqXlTA(eX60gensym4_);
			if (NIM_UNLIKELY(*nimErr_)) goto LA16_;
			colontmpD__2 = T17_;
			result = colontmpD__2;
			{
				LA16_:;
			}
			{
				eqdestroy___9b46FHs5hLnvqpMZEZWi31w(&eX60gensym4_);
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA14_;
			popCurrentException();
			LA14_:;
		}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		eqdestroy___0RiuPw9cXhtLB9a2rQ2jA69cg((&arg1extensions));
		eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&arg0folderpath));
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_CDECL(void*, walkPy_wrapper__pV0NG2T9aRkuhx3lNjrt52g)(void* selfX60gensym4_, void* args, void* kwargs) {
	void* result;
	tyProc__iv6n7tcGawU401muvntJ9cA volatile pX60gensym4_;
	result = (void*)0;
	updateStackBottom__FRn3WNsRdbdvfuL6O7x1BQnimpy();
	pX60gensym4_ = noinline__51nak27P4W6IWblJlmgg0w;
	result = pX60gensym4_(args, kwargs);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, walk_glob__T0p28lhyF7ws9aW2ZqYXykA)(NimStringV2 globpattern) {
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NimStringV2 item;
		glob_t fX60gensym136_;
		NI resX60gensym136_;
		int T2_;
		item.len = 0; item.p = NIM_NIL;
		nimZeroMem((void*)(&fX60gensym136_), sizeof(glob_t));
		resX60gensym136_ = (NI)0;
		fX60gensym136_.gl_offs = ((size_t) 0);
		fX60gensym136_.gl_pathc = ((size_t) 0);
		fX60gensym136_.gl_pathv = NIM_NIL;
		T2_ = (int)0;
		T2_ = glob(nimToCStringConv(globpattern), ((int) 0), NIM_NIL, (&fX60gensym136_));
		resX60gensym136_ = ((NI) (T2_));
		{
			if (!(resX60gensym136_ == ((NI) 0))) goto LA6_;
			{
				NU64 iX60gensym136_;
				NU64 colontmp_;
				NU64 res;
				iX60gensym136_ = (NU64)0;
				colontmp_ = (NU64)0;
				colontmp_ = ((NU64) ((NU)((NU64)(fX60gensym136_.gl_pathc) - (NU64)(((NU) 1)))));
				res = 0ULL;
				{
					while (1) {
						NimStringV2 pathX60gensym136_;
						if (!((NU64)(res) <= (NU64)(colontmp_))) goto LA10;
						pathX60gensym136_.len = 0; pathX60gensym136_.p = NIM_NIL;
						iX60gensym136_ = res;
						pathX60gensym136_ = cstrToNimstr(fX60gensym136_.gl_pathv[iX60gensym136_]);
						{
							NimStringV2 colontmpD_;
							if (!NIM_TRUE) goto LA13_;
							colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
							item = pathX60gensym136_;
							colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
							eq___aBBXmHFBEivKqERloP6zmA((&colontmpD_), item);
							add__dK9ajFgX5RSWQx0eHjjpjSQ((&result), colontmpD_);
						}
						LA13_: ;
						res += ((NI) 1);
						eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&pathX60gensym136_));
					} LA10: ;
				}
			}
		}
		LA6_: ;
		{
			LA3_:;
		}
		{
			globfree((&fX60gensym136_));
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void*, noinline__51nak27P4W6IWblJlmgg0w_2)(void* args, void* kwargs) {
	void* result;
	NimStringV2 arg0globpattern;
	void* colontmpD_;
	void* colontmpD__2;
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ colontmpD__3;
	void* T9_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (void*)0;
	arg0globpattern.len = 0; arg0globpattern.p = NIM_NIL;
	colontmpD_ = (void*)0;
	colontmpD__2 = (void*)0;
	{
		NIM_BOOL T4_;
		T4_ = (NIM_BOOL)0;
		T4_ = verifyArgs__8sVYJT4zfbIXMNXtJ2cTng(args, kwargs, ((NI) 1), ((NI) 1), TM__xMHGPK32qaROpInjrbPI7w_14, 1, TM__xMHGPK32qaROpInjrbPI7w_16);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (!!(T4_)) goto LA5_;
		result = ((void*) (NIM_NIL));
		eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&arg0globpattern));
		goto BeforeRet_;
	}
	LA5_: ;
	parseArg__icg9aGIbXA4DEIGHwq7rmAA(args, kwargs, ((NI) 0), "globpattern", (&arg0globpattern));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
	colontmpD__3 = walk_glob__T0p28lhyF7ws9aW2ZqYXykA(arg0globpattern);
	T9_ = (void*)0;
	T9_ = nimValueToPy__D3zjW9cYtGQuRuwL28IPiignimpy(colontmpD__3);
	if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
	colontmpD_ = T9_;
	result = colontmpD_;
	{
		LA8_:;
	}
	{
		eqdestroy___0RiuPw9cXhtLB9a2rQ2jA69cg((&colontmpD__3));
	}
	if (NIM_UNLIKELY(*nimErr_)) goto LA7_;
	if (NIM_UNLIKELY(*nimErr_)) {
		LA7_:;
		if (isObj(nimBorrowCurrentException()->Sup.m_type, "|Exception|RootObj|")) {
			Exception* eX60gensym23_;
			void* T16_;
			*nimErr_ = NIM_FALSE;
			eX60gensym23_ = (Exception*)0;
			eX60gensym23_ = getCurrentException();
			T16_ = (void*)0;
			T16_ = pythonException__Zl8uxcjgHaQZB15tcqXlTA(eX60gensym23_);
			if (NIM_UNLIKELY(*nimErr_)) goto LA15_;
			colontmpD__2 = T16_;
			result = colontmpD__2;
			{
				LA15_:;
			}
			{
				eqdestroy___9b46FHs5hLnvqpMZEZWi31w(&eX60gensym23_);
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
			popCurrentException();
			LA13_:;
		}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&arg0globpattern));
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_CDECL(void*, walk_globPy_wrapper__nOBLoCLVUpFZJb3588qANQ)(void* selfX60gensym23_, void* args, void* kwargs) {
	void* result;
	tyProc__iv6n7tcGawU401muvntJ9cA volatile pX60gensym23_;
	result = (void*)0;
	updateStackBottom__FRn3WNsRdbdvfuL6O7x1BQnimpy();
	pX60gensym23_ = noinline__51nak27P4W6IWblJlmgg0w_2;
	result = pX60gensym23_(args, kwargs);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, walk_simple__yeWwaNnXkLouUEYHUHdZ9bw)(NimStringV2 folderpath, NIM_BOOL recursive, NIM_BOOL relative, NIM_BOOL check_folders) {
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = NIM_LIKELY(recursive);
		if (!T3_) goto LA4_;
		{
			NimStringV2 item;
			tySequence__sM4lkSb7zS6F7OVMvW9cffQ stack;
			NIM_BOOL checkDir;
			item.len = 0; item.p = NIM_NIL;
			stack.len = 0; stack.p = NIM_NIL;
			eq___r6aagoRVuov7HvfEjIi3Uw((&stack), TM__xMHGPK32qaROpInjrbPI7w_7);
			checkDir = check_folders;
			{
				while (1) {
					NI T10_;
					NimStringV2 d;
					T10_ = stack.len;
					if (!(((NI) 0) < T10_)) goto LA9;
					d.len = 0; d.p = NIM_NIL;
					d = pop__uJq9ayjszaqUcdxv3Rz6G9bQsystem((&stack));
					{
						NimStringV2 p;
						NimStringV2 colontmp_;
						tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg k;
						NimStringV2 T14_;
						DIR* d_2;
						p.len = 0; p.p = NIM_NIL;
						colontmp_.len = 0; colontmp_.p = NIM_NIL;
						k = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
						p.len = 0; p.p = NIM_NIL;
						colontmp_.len = 0; colontmp_.p = NIM_NIL;
						T14_.len = 0; T14_.p = NIM_NIL;
						T14_ = slash___gEyhbzZ1UcxyenWRLJRXNQ(folderpath, d);
						eqsink___aBBXmHFBEivKqERloP6zmA_2((&colontmp_), T14_);
						d_2 = opendir(nimToCStringConv(colontmp_));
						{
							if (!(d_2 == NIM_NIL)) goto LA17_;
							{
								NI32 T23_;
								if (!checkDir) goto LA21_;
								T23_ = (NI32)0;
								T23_ = osLastError__9bUWNxbcGnToMWA9b79aTXLIw();
								raiseOSError__CWyPYlyH9a6rAuZckFyVxPA(T23_, colontmp_);
								if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
							}
							LA21_: ;
						}
						goto LA15_;
						LA17_: ;
						{
							{
								while (1) {
									{
										NimStringV2 y;
										struct dirent* x;
										y.len = 0; y.p = NIM_NIL;
										x = readdir(d_2);
										{
											if (!(x == NIM_NIL)) goto LA32_;
											eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&y));
											goto LA26;
										}
										LA32_: ;
										y = cstrToNimstr(((NCSTRING) ((*x).d_name)));
										{
											NIM_BOOL T36_;
											NimStringV2 path;
											NimStringV2 rel;
											struct stat s;
											tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg k_2;
											T36_ = (NIM_BOOL)0;
											T36_ = !(eqStrings(y, TM__xMHGPK32qaROpInjrbPI7w_20));
											if (!(T36_)) goto LA37_;
											T36_ = !(eqStrings(y, TM__xMHGPK32qaROpInjrbPI7w_21));
											LA37_: ;
											if (!T36_) goto LA38_;
											path.len = 0; path.p = NIM_NIL;
											rel.len = 0; rel.p = NIM_NIL;
											nimZeroMem((void*)(&s), sizeof(struct stat));
											path = slash___gEyhbzZ1UcxyenWRLJRXNQ(colontmp_, y);
											{
												if (!NIM_FALSE) goto LA43_;
												eq___aBBXmHFBEivKqERloP6zmA((&y), path);
											}
											LA43_: ;
											k_2 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 0);
											{
												NimStringV2 rel_2;
												if (!!(((*x).d_type == ((NI8) 0)))) goto LA47_;
												rel_2.len = 0; rel_2.p = NIM_NIL;
												{
													if (!((*x).d_type == ((NI8) 4))) goto LA52_;
													k_2 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
												}
												LA52_: ;
												{
													if (!((*x).d_type == ((NI8) 10))) goto LA56_;
													{
														NIM_BOOL T60_;
														T60_ = (NIM_BOOL)0;
														T60_ = nosdirExists(path);
														if (!T60_) goto LA61_;
														k_2 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 3);
													}
													goto LA58_;
													LA61_: ;
													{
														k_2 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 1);
													}
													LA58_: ;
												}
												LA56_: ;
												k = k_2;
												eq___aBBXmHFBEivKqERloP6zmA((&p), y);
												rel_2 = slash___gEyhbzZ1UcxyenWRLJRXNQ(d, p);
												{
													NIM_BOOL T66_;
													NimStringV2 colontmpD_;
													T66_ = (NIM_BOOL)0;
													T66_ = (k == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2) || k == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 3));
													if (!(T66_)) goto LA67_;
													T66_ = (k == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2));
													LA67_: ;
													if (!T66_) goto LA68_;
													colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
													colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
													eq___aBBXmHFBEivKqERloP6zmA((&colontmpD_), rel_2);
													add__dK9ajFgX5RSWQx0eHjjpjSQ((&stack), colontmpD_);
												}
												LA68_: ;
												{
													NimStringV2 colontmpD__2;
													NimStringV2 T74_;
													if (!(k == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 0))) goto LA72_;
													colontmpD__2.len = 0; colontmpD__2.p = NIM_NIL;
													T74_.len = 0; T74_.p = NIM_NIL;
													{
														if (!relative) goto LA77_;
														eq___aBBXmHFBEivKqERloP6zmA((&item), rel_2);
													}
													goto LA75_;
													LA77_: ;
													{
														NimStringV2 T80_;
														T80_.len = 0; T80_.p = NIM_NIL;
														T80_ = slash___gEyhbzZ1UcxyenWRLJRXNQ(folderpath, rel_2);
														eqsink___aBBXmHFBEivKqERloP6zmA_2((&item), T80_);
													}
													LA75_: ;
													colontmpD__2.len = 0; colontmpD__2.p = NIM_NIL;
													eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__2), item);
													add__dK9ajFgX5RSWQx0eHjjpjSQ((&result), colontmpD__2);
												}
												LA72_: ;
												eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&rel_2));
												eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&rel));
												eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&path));
												eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&y));
												goto LA28;
												{
													LA49_:;
												}
												{
													eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&rel_2));
												}
												if (NIM_UNLIKELY(*nimErr_)) goto LA40_;
											}
											LA47_: ;
											{
												int T85_;
												T85_ = (int)0;
												T85_ = lstat(nimToCStringConv(path), (&s));
												if (!(T85_ < ((NI32) 0))) goto LA86_;
												eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&rel));
												eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&path));
												eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&y));
												goto LA26;
											}
											LA86_: ;
											{
												NIM_BOOL T90_;
												T90_ = (NIM_BOOL)0;
												T90_ = S_ISDIR(s.st_mode);
												if (!T90_) goto LA91_;
												k_2 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
											}
											goto LA88_;
											LA91_: ;
											{
												NIM_BOOL T94_;
												T94_ = (NIM_BOOL)0;
												T94_ = S_ISLNK(s.st_mode);
												if (!T94_) goto LA95_;
												k_2 = getSymlinkFileKind__wTnLPNAWjgwVnuiJ9ax0ZGQ(path);
											}
											goto LA88_;
											LA95_: ;
											LA88_: ;
											k = k_2;
											eq___aBBXmHFBEivKqERloP6zmA((&p), y);
											rel = slash___gEyhbzZ1UcxyenWRLJRXNQ(d, p);
											{
												NIM_BOOL T99_;
												NimStringV2 colontmpD__3;
												T99_ = (NIM_BOOL)0;
												T99_ = (k == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2) || k == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 3));
												if (!(T99_)) goto LA100_;
												T99_ = (k == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2));
												LA100_: ;
												if (!T99_) goto LA101_;
												colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
												colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
												eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__3), rel);
												add__dK9ajFgX5RSWQx0eHjjpjSQ((&stack), colontmpD__3);
											}
											LA101_: ;
											{
												NimStringV2 colontmpD__4;
												NimStringV2 T107_;
												if (!(k == ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 0))) goto LA105_;
												colontmpD__4.len = 0; colontmpD__4.p = NIM_NIL;
												T107_.len = 0; T107_.p = NIM_NIL;
												{
													if (!relative) goto LA110_;
													eq___aBBXmHFBEivKqERloP6zmA((&item), rel);
												}
												goto LA108_;
												LA110_: ;
												{
													NimStringV2 T113_;
													T113_.len = 0; T113_.p = NIM_NIL;
													T113_ = slash___gEyhbzZ1UcxyenWRLJRXNQ(folderpath, rel);
													eqsink___aBBXmHFBEivKqERloP6zmA_2((&item), T113_);
												}
												LA108_: ;
												colontmpD__4.len = 0; colontmpD__4.p = NIM_NIL;
												eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__4), item);
												add__dK9ajFgX5RSWQx0eHjjpjSQ((&result), colontmpD__4);
											}
											LA105_: ;
											{
												LA40_:;
											}
											{
												eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&rel));
												eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&path));
											}
											if (NIM_UNLIKELY(*nimErr_)) goto LA29_;
										}
										LA38_: ;
										{
											LA29_:;
										}
										{
											eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&y));
										}
										if (NIM_UNLIKELY(*nimErr_)) goto LA25_;
									} LA28: ;
								}
							} LA26: ;
							{
								LA25_:;
							}
							{
								int T120_;
								T120_ = (int)0;
								T120_ = closedir(d_2);
								(void)(T120_);
							}
							if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
						}
						LA15_: ;
						{
							LA13_:;
						}
						{
							eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&colontmp_));
							eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&p));
						}
						if (NIM_UNLIKELY(*nimErr_)) goto LA11_;
					}
					checkDir = NIM_FALSE;
					{
						LA11_:;
					}
					{
						eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&d));
					}
					if (NIM_UNLIKELY(*nimErr_)) goto LA7_;
				} LA9: ;
			}
			{
				LA7_:;
			}
			{
				eqdestroy___0RiuPw9cXhtLB9a2rQ2jA69cg((&stack));
				eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&item));
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
	}
	goto LA1_;
	LA4_: ;
	{
		{
			tyTuple__LCURwohbLBusrL8hdCnvng item_2;
			DIR* d_3;
			nimZeroMem((void*)(&item_2), sizeof(tyTuple__LCURwohbLBusrL8hdCnvng));
			d_3 = opendir(nimToCStringConv(folderpath));
			{
				if (!(d_3 == NIM_NIL)) goto LA132_;
				{
					NI32 T138_;
					if (!check_folders) goto LA136_;
					T138_ = (NI32)0;
					T138_ = osLastError__9bUWNxbcGnToMWA9b79aTXLIw();
					raiseOSError__CWyPYlyH9a6rAuZckFyVxPA(T138_, folderpath);
					if (NIM_UNLIKELY(*nimErr_)) goto LA129_;
				}
				LA136_: ;
			}
			goto LA130_;
			LA132_: ;
			{
				{
					while (1) {
						{
							NimStringV2 y_2;
							struct dirent* x_2;
							y_2.len = 0; y_2.p = NIM_NIL;
							x_2 = readdir(d_3);
							{
								if (!(x_2 == NIM_NIL)) goto LA147_;
								eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&y_2));
								goto LA141;
							}
							LA147_: ;
							y_2 = cstrToNimstr(((NCSTRING) ((*x_2).d_name)));
							{
								NIM_BOOL T151_;
								NimStringV2 path_2;
								tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg colontmpD__5;
								NimStringV2 colontmpD__6;
								NimStringV2 colontmpD__7;
								struct stat s_2;
								tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg k_3;
								tyTuple__LCURwohbLBusrL8hdCnvng T193_;
								T151_ = (NIM_BOOL)0;
								T151_ = !(eqStrings(y_2, TM__xMHGPK32qaROpInjrbPI7w_22));
								if (!(T151_)) goto LA152_;
								T151_ = !(eqStrings(y_2, TM__xMHGPK32qaROpInjrbPI7w_23));
								LA152_: ;
								if (!T151_) goto LA153_;
								path_2.len = 0; path_2.p = NIM_NIL;
								colontmpD__5 = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
								colontmpD__6.len = 0; colontmpD__6.p = NIM_NIL;
								colontmpD__7.len = 0; colontmpD__7.p = NIM_NIL;
								nimZeroMem((void*)(&s_2), sizeof(struct stat));
								path_2 = slash___gEyhbzZ1UcxyenWRLJRXNQ(folderpath, y_2);
								{
									if (!!(relative)) goto LA158_;
									eq___aBBXmHFBEivKqERloP6zmA((&y_2), path_2);
								}
								LA158_: ;
								k_3 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 0);
								{
									tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg colontmpD__8;
									NimStringV2 colontmpD__9;
									NimStringV2 colontmpD__10;
									tyTuple__LCURwohbLBusrL8hdCnvng T178_;
									if (!!(((*x_2).d_type == ((NI8) 0)))) goto LA162_;
									colontmpD__8 = (tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg)0;
									colontmpD__9.len = 0; colontmpD__9.p = NIM_NIL;
									colontmpD__10.len = 0; colontmpD__10.p = NIM_NIL;
									{
										if (!((*x_2).d_type == ((NI8) 4))) goto LA166_;
										k_3 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
									}
									LA166_: ;
									{
										if (!((*x_2).d_type == ((NI8) 10))) goto LA170_;
										{
											NIM_BOOL T174_;
											T174_ = (NIM_BOOL)0;
											T174_ = nosdirExists(path_2);
											if (!T174_) goto LA175_;
											k_3 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 3);
										}
										goto LA172_;
										LA175_: ;
										{
											k_3 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 1);
										}
										LA172_: ;
									}
									LA170_: ;
									colontmpD__8 = k_3;
									T178_.Field0 = colontmpD__8;
									colontmpD__9.len = 0; colontmpD__9.p = NIM_NIL;
									eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__9), y_2);
									T178_.Field1 = colontmpD__9;
									eqsink___eJvma6sOTizgxElKpB2yuQ((&item_2), T178_);
									colontmpD__10.len = 0; colontmpD__10.p = NIM_NIL;
									eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__10), item_2.Field1);
									add__dK9ajFgX5RSWQx0eHjjpjSQ((&result), colontmpD__10);
									eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&path_2));
									eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&y_2));
									goto LA143;
								}
								LA162_: ;
								{
									int T181_;
									T181_ = (int)0;
									T181_ = lstat(nimToCStringConv(path_2), (&s_2));
									if (!(T181_ < ((NI32) 0))) goto LA182_;
									eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&path_2));
									eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&y_2));
									goto LA141;
								}
								LA182_: ;
								{
									NIM_BOOL T186_;
									T186_ = (NIM_BOOL)0;
									T186_ = S_ISDIR(s_2.st_mode);
									if (!T186_) goto LA187_;
									k_3 = ((tyEnum_PathComponent__9c1SIU9cO1wHcl09b703A9cDrg) 2);
								}
								goto LA184_;
								LA187_: ;
								{
									NIM_BOOL T190_;
									T190_ = (NIM_BOOL)0;
									T190_ = S_ISLNK(s_2.st_mode);
									if (!T190_) goto LA191_;
									k_3 = getSymlinkFileKind__wTnLPNAWjgwVnuiJ9ax0ZGQ(path_2);
								}
								goto LA184_;
								LA191_: ;
								LA184_: ;
								colontmpD__5 = k_3;
								T193_.Field0 = colontmpD__5;
								colontmpD__6.len = 0; colontmpD__6.p = NIM_NIL;
								eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__6), y_2);
								T193_.Field1 = colontmpD__6;
								eqsink___eJvma6sOTizgxElKpB2yuQ((&item_2), T193_);
								colontmpD__7.len = 0; colontmpD__7.p = NIM_NIL;
								eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__7), item_2.Field1);
								add__dK9ajFgX5RSWQx0eHjjpjSQ((&result), colontmpD__7);
								{
									LA155_:;
								}
								{
									eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&path_2));
								}
								if (NIM_UNLIKELY(*nimErr_)) goto LA144_;
							}
							LA153_: ;
							{
								LA144_:;
							}
							{
								eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&y_2));
							}
							if (NIM_UNLIKELY(*nimErr_)) goto LA140_;
						} LA143: ;
					}
				} LA141: ;
				{
					LA140_:;
				}
				{
					int T200_;
					T200_ = (int)0;
					T200_ = closedir(d_3);
					(void)(T200_);
				}
				if (NIM_UNLIKELY(*nimErr_)) goto LA129_;
			}
			LA130_: ;
			{
				LA129_:;
			}
			{
				eqdestroy___9bqov6Wj01jiBsy3mzTHnMQ((&item_2));
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
	}
	LA1_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void*, noinline__51nak27P4W6IWblJlmgg0w_3)(void* args, void* kwargs) {
	void* result;
	NimStringV2 arg0folderpath;
	void* colontmpD_;
	void* colontmpD__2;
	NIM_BOOL arg1recursive;
	NIM_BOOL arg2relative;
	NIM_BOOL arg3check_folders;
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ colontmpD__3;
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ T9_;
	void* T10_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (void*)0;
	arg0folderpath.len = 0; arg0folderpath.p = NIM_NIL;
	colontmpD_ = (void*)0;
	colontmpD__2 = (void*)0;
	{
		NIM_BOOL T4_;
		T4_ = (NIM_BOOL)0;
		T4_ = verifyArgs__8sVYJT4zfbIXMNXtJ2cTng(args, kwargs, ((NI) 4), ((NI) 1), TM__xMHGPK32qaROpInjrbPI7w_17, 4, TM__xMHGPK32qaROpInjrbPI7w_19);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (!!(T4_)) goto LA5_;
		result = ((void*) (NIM_NIL));
		eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&arg0folderpath));
		goto BeforeRet_;
	}
	LA5_: ;
	arg1recursive = NIM_TRUE;
	arg2relative = NIM_FALSE;
	arg3check_folders = NIM_FALSE;
	parseArg__icg9aGIbXA4DEIGHwq7rmAA(args, kwargs, ((NI) 0), "folderpath", (&arg0folderpath));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	parseArg__LZY9aeACpjd5IJS4h2b8lqA(args, kwargs, ((NI) 1), "recursive", (&arg1recursive));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	parseArg__LZY9aeACpjd5IJS4h2b8lqA(args, kwargs, ((NI) 2), "relative", (&arg2relative));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	parseArg__LZY9aeACpjd5IJS4h2b8lqA(args, kwargs, ((NI) 3), "check_folders", (&arg3check_folders));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
	T9_.len = 0; T9_.p = NIM_NIL;
	T9_ = walk_simple__yeWwaNnXkLouUEYHUHdZ9bw(arg0folderpath, arg1recursive, arg2relative, arg3check_folders);
	if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
	colontmpD__3 = T9_;
	T10_ = (void*)0;
	T10_ = nimValueToPy__D3zjW9cYtGQuRuwL28IPiignimpy(colontmpD__3);
	if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
	colontmpD_ = T10_;
	result = colontmpD_;
	{
		LA8_:;
	}
	{
		eqdestroy___0RiuPw9cXhtLB9a2rQ2jA69cg((&colontmpD__3));
	}
	if (NIM_UNLIKELY(*nimErr_)) goto LA7_;
	if (NIM_UNLIKELY(*nimErr_)) {
		LA7_:;
		if (isObj(nimBorrowCurrentException()->Sup.m_type, "|Exception|RootObj|")) {
			Exception* eX60gensym29_;
			void* T17_;
			*nimErr_ = NIM_FALSE;
			eX60gensym29_ = (Exception*)0;
			eX60gensym29_ = getCurrentException();
			T17_ = (void*)0;
			T17_ = pythonException__Zl8uxcjgHaQZB15tcqXlTA(eX60gensym29_);
			if (NIM_UNLIKELY(*nimErr_)) goto LA16_;
			colontmpD__2 = T17_;
			result = colontmpD__2;
			{
				LA16_:;
			}
			{
				eqdestroy___9b46FHs5hLnvqpMZEZWi31w(&eX60gensym29_);
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA14_;
			popCurrentException();
			LA14_:;
		}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&arg0folderpath));
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_CDECL(void*, walk_simplePy_wrapper__IzdXrRRm9a7J5XcJ9cia4k8w)(void* selfX60gensym29_, void* args, void* kwargs) {
	void* result;
	tyProc__iv6n7tcGawU401muvntJ9cA volatile pX60gensym29_;
	result = (void*)0;
	updateStackBottom__FRn3WNsRdbdvfuL6O7x1BQnimpy();
	pX60gensym29_ = noinline__51nak27P4W6IWblJlmgg0w_3;
	result = pX60gensym29_(args, kwargs);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ, walk_files__ToYLunVJTl6uByayJPO9amA)(NimStringV2 globpattern, NIM_BOOL folders_only) {
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = NIM_UNLIKELY(folders_only);
		if (!T3_) goto LA4_;
		{
			NimStringV2 item;
			glob_t fX60gensym146_;
			NI resX60gensym146_;
			int T7_;
			item.len = 0; item.p = NIM_NIL;
			nimZeroMem((void*)(&fX60gensym146_), sizeof(glob_t));
			resX60gensym146_ = (NI)0;
			fX60gensym146_.gl_offs = ((size_t) 0);
			fX60gensym146_.gl_pathc = ((size_t) 0);
			fX60gensym146_.gl_pathv = NIM_NIL;
			T7_ = (int)0;
			T7_ = glob(nimToCStringConv(globpattern), ((int) 0), NIM_NIL, (&fX60gensym146_));
			resX60gensym146_ = ((NI) (T7_));
			{
				if (!(resX60gensym146_ == ((NI) 0))) goto LA11_;
				{
					NU64 iX60gensym146_;
					NU64 colontmp_;
					NU64 res;
					iX60gensym146_ = (NU64)0;
					colontmp_ = (NU64)0;
					colontmp_ = ((NU64) ((NU)((NU64)(fX60gensym146_.gl_pathc) - (NU64)(((NU) 1)))));
					res = 0ULL;
					{
						while (1) {
							NimStringV2 pathX60gensym146_;
							if (!((NU64)(res) <= (NU64)(colontmp_))) goto LA15;
							pathX60gensym146_.len = 0; pathX60gensym146_.p = NIM_NIL;
							iX60gensym146_ = res;
							pathX60gensym146_ = cstrToNimstr(fX60gensym146_.gl_pathv[iX60gensym146_]);
							{
								NIM_BOOL T18_;
								NimStringV2 colontmpD_;
								T18_ = (NIM_BOOL)0;
								T18_ = nosdirExists(pathX60gensym146_);
								if (!T18_) goto LA19_;
								colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
								item = pathX60gensym146_;
								colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
								eq___aBBXmHFBEivKqERloP6zmA((&colontmpD_), item);
								add__dK9ajFgX5RSWQx0eHjjpjSQ((&result), colontmpD_);
							}
							LA19_: ;
							res += ((NI) 1);
							eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&pathX60gensym146_));
						} LA15: ;
					}
				}
			}
			LA11_: ;
			{
				LA8_:;
			}
			{
				globfree((&fX60gensym146_));
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
	}
	goto LA1_;
	LA4_: ;
	{
		{
			NimStringV2 item_2;
			glob_t fX60gensym141_;
			NI resX60gensym141_;
			int T25_;
			item_2.len = 0; item_2.p = NIM_NIL;
			nimZeroMem((void*)(&fX60gensym141_), sizeof(glob_t));
			resX60gensym141_ = (NI)0;
			fX60gensym141_.gl_offs = ((size_t) 0);
			fX60gensym141_.gl_pathc = ((size_t) 0);
			fX60gensym141_.gl_pathv = NIM_NIL;
			T25_ = (int)0;
			T25_ = glob(nimToCStringConv(globpattern), ((int) 0), NIM_NIL, (&fX60gensym141_));
			resX60gensym141_ = ((NI) (T25_));
			{
				if (!(resX60gensym141_ == ((NI) 0))) goto LA29_;
				{
					NU64 iX60gensym141_;
					NU64 colontmp__2;
					NU64 res_2;
					iX60gensym141_ = (NU64)0;
					colontmp__2 = (NU64)0;
					colontmp__2 = ((NU64) ((NU)((NU64)(fX60gensym141_.gl_pathc) - (NU64)(((NU) 1)))));
					res_2 = 0ULL;
					{
						while (1) {
							NimStringV2 pathX60gensym141_;
							if (!((NU64)(res_2) <= (NU64)(colontmp__2))) goto LA33;
							pathX60gensym141_.len = 0; pathX60gensym141_.p = NIM_NIL;
							iX60gensym141_ = res_2;
							pathX60gensym141_ = cstrToNimstr(fX60gensym141_.gl_pathv[iX60gensym141_]);
							{
								NIM_BOOL T36_;
								NimStringV2 colontmpD__2;
								T36_ = (NIM_BOOL)0;
								T36_ = nosfileExists(pathX60gensym141_);
								if (!T36_) goto LA37_;
								colontmpD__2.len = 0; colontmpD__2.p = NIM_NIL;
								item_2 = pathX60gensym141_;
								colontmpD__2.len = 0; colontmpD__2.p = NIM_NIL;
								eq___aBBXmHFBEivKqERloP6zmA((&colontmpD__2), item_2);
								add__dK9ajFgX5RSWQx0eHjjpjSQ((&result), colontmpD__2);
							}
							LA37_: ;
							res_2 += ((NI) 1);
							eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&pathX60gensym141_));
						} LA33: ;
					}
				}
			}
			LA29_: ;
			{
				LA26_:;
			}
			{
				globfree((&fX60gensym141_));
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
	}
	LA1_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void*, noinline__51nak27P4W6IWblJlmgg0w_4)(void* args, void* kwargs) {
	void* result;
	NimStringV2 arg0globpattern;
	void* colontmpD_;
	void* colontmpD__2;
	NIM_BOOL arg1folders_only;
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ colontmpD__3;
	void* T9_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (void*)0;
	arg0globpattern.len = 0; arg0globpattern.p = NIM_NIL;
	colontmpD_ = (void*)0;
	colontmpD__2 = (void*)0;
	{
		NIM_BOOL T4_;
		T4_ = (NIM_BOOL)0;
		T4_ = verifyArgs__8sVYJT4zfbIXMNXtJ2cTng(args, kwargs, ((NI) 2), ((NI) 1), TM__xMHGPK32qaROpInjrbPI7w_24, 2, TM__xMHGPK32qaROpInjrbPI7w_26);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		if (!!(T4_)) goto LA5_;
		result = ((void*) (NIM_NIL));
		eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&arg0globpattern));
		goto BeforeRet_;
	}
	LA5_: ;
	arg1folders_only = NIM_FALSE;
	parseArg__icg9aGIbXA4DEIGHwq7rmAA(args, kwargs, ((NI) 0), "globpattern", (&arg0globpattern));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	parseArg__LZY9aeACpjd5IJS4h2b8lqA(args, kwargs, ((NI) 1), "folders_only", (&arg1folders_only));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
	colontmpD__3 = walk_files__ToYLunVJTl6uByayJPO9amA(arg0globpattern, arg1folders_only);
	T9_ = (void*)0;
	T9_ = nimValueToPy__D3zjW9cYtGQuRuwL28IPiignimpy(colontmpD__3);
	if (NIM_UNLIKELY(*nimErr_)) goto LA8_;
	colontmpD_ = T9_;
	result = colontmpD_;
	{
		LA8_:;
	}
	{
		eqdestroy___0RiuPw9cXhtLB9a2rQ2jA69cg((&colontmpD__3));
	}
	if (NIM_UNLIKELY(*nimErr_)) goto LA7_;
	if (NIM_UNLIKELY(*nimErr_)) {
		LA7_:;
		if (isObj(nimBorrowCurrentException()->Sup.m_type, "|Exception|RootObj|")) {
			Exception* eX60gensym39_;
			void* T16_;
			*nimErr_ = NIM_FALSE;
			eX60gensym39_ = (Exception*)0;
			eX60gensym39_ = getCurrentException();
			T16_ = (void*)0;
			T16_ = pythonException__Zl8uxcjgHaQZB15tcqXlTA(eX60gensym39_);
			if (NIM_UNLIKELY(*nimErr_)) goto LA15_;
			colontmpD__2 = T16_;
			result = colontmpD__2;
			{
				LA15_:;
			}
			{
				eqdestroy___9b46FHs5hLnvqpMZEZWi31w(&eX60gensym39_);
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA13_;
			popCurrentException();
			LA13_:;
		}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		eqdestroy___dS1BF3Vxjg9aJMmmhVJKSpQ((&arg0globpattern));
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_CDECL(void*, walk_filesPy_wrapper__JwrG9cd19al6MQlO6PfA9bUzg)(void* selfX60gensym39_, void* args, void* kwargs) {
	void* result;
	tyProc__iv6n7tcGawU401muvntJ9cA volatile pX60gensym39_;
	result = (void*)0;
	updateStackBottom__FRn3WNsRdbdvfuL6O7x1BQnimpy();
	pX60gensym39_ = noinline__51nak27P4W6IWblJlmgg0w_4;
	result = pX60gensym39_(args, kwargs);
	return result;
}
static N_INLINE(void, initStackBottomWith)(void* locals) {
}

N_LIB_PRIVATE void PreMainInner(void) {
	nimpy_py_libInit000();
}

N_LIB_PRIVATE int cmdCount;
N_LIB_PRIVATE char** cmdLine;
N_LIB_PRIVATE char** gEnv;
N_LIB_PRIVATE void PreMain(void) {
	void (*volatile inner)(void);
	inner = PreMainInner;
	systemDatInit000();
	systemInit000();
	(*inner)();
}

N_LIB_PRIVATE N_CDECL(void, NimMainInner)(void) {
	NimMainModule();
}

N_LIB_EXPORT N_CDECL(void, NimMain)(void) {
	void (*volatile inner)(void);
	PreMain();
	inner = NimMainInner;
	initStackBottomWith((void *)&inner);
	(*inner)();
}

N_LIB_PRIVATE void NIM_POSIX_INIT NimMainInit(void) {
	NimMain();
}

N_LIB_PRIVATE N_NIMCALL(void, NimMainModule)(void) {
{
	initPythonModuleDesc__0f1AKGy9a6FMRjtYbL5nSQg((&gPythonLocalModuleDesc__rWSOv8OWHGeHMsEAMshUQA), "faster_than_walk", "");
	registerExportedModule__2aw5dpL5lVZZ9cjH0apWcXA(TM__xMHGPK32qaROpInjrbPI7w_3, ((void*) (initfaster_than_walk)), ((void*) (PyInit_faster_than_walk)));
	addMethod__TpUnmhxGlZgxTBTLPiE3nw((&gPythonLocalModuleDesc__rWSOv8OWHGeHMsEAMshUQA), "walk", "Faster os.walk(), followlinks follows SymLinks, yieldfiles yiel"
"ds files else folders, return 1 list of strings.", walkPy_wrapper__pV0NG2T9aRkuhx3lNjrt52g);
	addMethod__TpUnmhxGlZgxTBTLPiE3nw((&gPythonLocalModuleDesc__rWSOv8OWHGeHMsEAMshUQA), "walk_glob", "Faster os.walk() using 1 standard POSIX like Glob Pattern strin"
"g, return 1 list of strings.", walk_globPy_wrapper__nOBLoCLVUpFZJb3588qANQ);
	addMethod__TpUnmhxGlZgxTBTLPiE3nw((&gPythonLocalModuleDesc__rWSOv8OWHGeHMsEAMshUQA), "walk_simple", "Faster os.walk(), it only takes the path, return 1 list of stri"
"ngs.", walk_simplePy_wrapper__IzdXrRRm9a7J5XcJ9cia4k8w);
	addMethod__TpUnmhxGlZgxTBTLPiE3nw((&gPythonLocalModuleDesc__rWSOv8OWHGeHMsEAMshUQA), "walk_files", "Faster os.walk(), similar to walks but optimized for Files or F"
"olders only.", walk_filesPy_wrapper__JwrG9cd19al6MQlO6PfA9bUzg);
	nimTestErrorFlag();
}
}

